create view view_fin_cheque_nao_compensado (
    id,
    id_banco_conta_caixa,
    nome_conta_caixa,
    talao,
    numero_talao,
    numero_cheque,
    status_cheque,
    data_status,
    valor
) as

select
    cast(concat(t.id, c.id) as unsigned) as id,
    cc.id as id_banco_conta_caixa,
    cc.nome as nome_conta_caixa,
    t.talao,
    t.numero as numero_talao,
    c.numero as numero_cheque,
    c.status_cheque,
    c.data_status,
    valor

from
    cheque c
    inner join talonario_cheque t on c.id_talonario_cheque = t.id
    inner join banco_conta_caixa cc on t.id_banco_conta_caixa = cc.id
    inner join fin_cheque_emitido ce on ce.id_cheque = c.id

where
    c.status_cheque <> '3';
